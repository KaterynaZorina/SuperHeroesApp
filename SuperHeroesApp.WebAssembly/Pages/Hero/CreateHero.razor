@page "/super-heroes/create"
@using Microsoft.AspNetCore.Authorization
@inject ISuperHeroesService SuperHeroesService
@inject NavigationManager NavigationManager
@attribute [Authorize("DemoPolicy")]

<CreateSuperHero OnSuperHeroAdded="AddHero"></CreateSuperHero>
@{
    const string backStr = "<< Back";
}
<div>
    <NavLink Match="NavLinkMatch.All" href="/super-heroes">@backStr</NavLink>
</div>

@code {
    private async Task AddHero(SuperHeroModel model)
    {
        await SuperHeroesService.AddSuperHeroAsync(model);
        NavigationManager.NavigateTo("super-heroes");
    }
}